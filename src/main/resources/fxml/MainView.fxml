<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.shape.SVGPath?>
<?import javafx.geometry.Insets?>

<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.pharmacy.sgpa.controller.MainController"
            stylesheets="@../css/styles.css"
            prefHeight="750.0" prefWidth="1100.0"
            style="-fx-background-color: #F4F6F8;">

    <left>
        <VBox spacing="5" styleClass="sidebar">
            <padding><Insets top="20" right="10" bottom="20" left="10"/></padding>

            <VBox alignment="CENTER" spacing="10" style="-fx-padding: 0 0 30 0;">
                <StackPane styleClass="icon-bg-teal" maxWidth="50" maxHeight="50">
                    <SVGPath content="M19 3H5c-1.1 0-1.99.9-1.99 2L3 19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 11h-4v4h-2v-4H7v-2h4V7h2v5h4v2z" fill="#009688" scaleX="1.2" scaleY="1.2"/>
                </StackPane>
                <Label text="SGPA PHARMA" styleClass="sidebar-brand"/>
            </VBox>

            <Label text="MENU PRINCIPAL" styleClass="sidebar-section-title"/>

            <Button text="Tableau de Bord" onAction="#showDashboard" styleClass="nav-btn">
                <graphic><SVGPath content="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z" fill="#546E7A" styleClass="nav-icon"/></graphic>
            </Button>

            <Button text="Gestion Stock" styleClass="nav-btn-active">
                <graphic><SVGPath content="M20 6h-8l-2-2H4c-1.1 0-1.99.89-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-1 11h-4v4h-2v-4H9V9h4V5h2v4z" fill="WHITE" styleClass="nav-icon"/></graphic>
            </Button>

            <Button text="Point de Vente" onAction="#showVentes" styleClass="nav-btn">
                <graphic><SVGPath content="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z" fill="#546E7A" styleClass="nav-icon"/></graphic>
            </Button>

            <Button text="Historique" onAction="#showHistorique" styleClass="nav-btn">
                <graphic><SVGPath content="M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z" fill="#546E7A" styleClass="nav-icon"/></graphic>
            </Button>

            <Separator style="-fx-padding: 10 0; -fx-opacity: 0.1;"/>

            <Label text="PARTENAIRES" styleClass="sidebar-section-title"/>

            <Button text="Fournisseurs" onAction="#showFournisseurs" styleClass="nav-btn">
                <graphic><SVGPath content="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5s-3 1.34-3 3 1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z" fill="#546E7A" styleClass="nav-icon"/></graphic>
            </Button>

            <Button text="Commandes" onAction="#showCommandes" styleClass="nav-btn">
                <graphic><SVGPath content="M20 8h-3V4H3v12h3v4h14V8zM5 14V6h10v8H5zm13 4H8v-2h10v2z" fill="#546E7A" styleClass="nav-icon"/></graphic>
            </Button>

            <Region VBox.vgrow="ALWAYS"/>

            <Button text="Déconnexion" onAction="#handleLogout" styleClass="nav-btn-logout">
                <graphic><SVGPath content="M10.09 15.59L11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67l-2.58 2.59zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z" fill="#D32F2F" scaleX="0.8" scaleY="0.8"/></graphic>
            </Button>
        </VBox>
    </left>

    <center>
        <VBox spacing="20" style="-fx-padding: 30;">

            <HBox alignment="CENTER_LEFT" spacing="15">
                <VBox>
                    <Label text="Inventaire Médicaments" styleClass="page-title"/>
                    <Label text="Optimisez votre stock et gérez vos références" styleClass="subtitle-text"/>
                </VBox>
                <Region HBox.hgrow="ALWAYS"/>
                <HBox fx:id="searchBarGroup" alignment="CENTER_LEFT" styleClass="search-bar">
                    <SVGPath content="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" fill="#90A4AE" scaleX="0.8" scaleY="0.8"/>
                    <TextField fx:id="txtSearch" promptText="Rechercher par nom ou principe..." style="-fx-background-color: transparent;" prefWidth="250"/>
                </HBox>


            </HBox>

            <VBox styleClass="card-pane" VBox.vgrow="ALWAYS">
                <TableView fx:id="medicamentTable" VBox.vgrow="ALWAYS" styleClass="modern-table">
                    <columns>
                        <TableColumn fx:id="colId" text="Réf" prefWidth="80"/>
                        <TableColumn fx:id="colNom" text="Désignation" prefWidth="250"/>
                        <TableColumn fx:id="colPrincipe" text="Molécule / Principe" prefWidth="200"/>
                        <TableColumn fx:id="colStock" text="En Stock" prefWidth="120" style="-fx-alignment: CENTER;"/>
                        <TableColumn fx:id="colPrix" text="Prix Unit. (€)" prefWidth="120" style="-fx-alignment: CENTER-RIGHT;"/>
                    </columns>
                    <columnResizePolicy>
                        <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                    </columnResizePolicy>
                </TableView>
            </VBox>

            <HBox spacing="15" alignment="CENTER_LEFT" styleClass="action-bar-floating">
                <Button text="AJOUTER PRODUIT" onAction="#handleAddMedicament" styleClass="btn-primary">
                    <graphic><SVGPath content="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z" fill="WHITE"/></graphic>
                </Button>
                <Separator orientation="VERTICAL" style="-fx-padding: 0 10;"/>
                <Button fx:id="btnModifier" text="MODIFIER" onAction="#handleEditMedicament" styleClass="btn-tile-secondary"/>
                <Button fx:id="btnSupprimer" text="SUPPRIMER" onAction="#handleDeleteMedicament" styleClass="btn-danger-outline"/>

                <Region HBox.hgrow="ALWAYS"/>

                <Button text="RAFFRAÎCHIR" onAction="#loadData" styleClass="btn-link">
                    <graphic><SVGPath content="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z" fill="#009688" scaleX="0.7" scaleY="0.7"/></graphic>
                </Button>
            </HBox>
        </VBox>
    </center>

</BorderPane>