<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.shape.SVGPath?>
<?import javafx.geometry.Insets?>

<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.pharmacy.sgpa.controller.LogsController"
            stylesheets="@../css/styles.css"
            style="-fx-background-color: #F4F6F8;"
            prefHeight="700.0" prefWidth="1000.0">

    <top>
        <HBox styleClass="top-bar" alignment="CENTER_LEFT" spacing="20">
            <padding><Insets top="15" right="20" bottom="15" left="20"/></padding>

            <VBox>
                <Label text="Administration" styleClass="app-logo-text"/>
                <Label text="Journal d'Activités Système" styleClass="page-title"/>
            </VBox>

            <Region HBox.hgrow="ALWAYS"/>

            <Button text="Retour Dashboard" onAction="#handleBack" styleClass="btn-secondary">
                <graphic>
                    <SVGPath content="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z" fill="#546E7A" scaleX="0.8" scaleY="0.8"/>
                </graphic>
            </Button>
        </HBox>
    </top>

    <center>
        <VBox spacing="20" style="-fx-padding: 30;">

            <HBox alignment="CENTER_LEFT" spacing="15">
                <Label text="Historique des Actions" styleClass="section-header"/>
                <Region HBox.hgrow="ALWAYS"/>
                <Button text="Actualiser" onAction="#refreshLogs" styleClass="btn-icon-only">
                    <graphic><SVGPath content="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z" fill="#546E7A"/></graphic>
                </Button>
            </HBox>

            <TableView fx:id="tableLogs" VBox.vgrow="ALWAYS" styleClass="modern-table">
                <columns>
                    <TableColumn fx:id="colDate" text="Date &amp; Heure" prefWidth="180"/>
                    <TableColumn fx:id="colUser" text="Utilisateur" prefWidth="150"/>
                    <TableColumn fx:id="colAction" text="Détail de l'Action" prefWidth="500"/>
                </columns>
                <columnResizePolicy>
                    <TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/>
                </columnResizePolicy>
            </TableView>
        </VBox>
    </center>
</BorderPane>