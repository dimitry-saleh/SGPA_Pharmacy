<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.shape.SVGPath?>
<?import javafx.geometry.Insets?>

<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.pharmacy.sgpa.controller.FournisseurController"
            stylesheets="@../css/styles.css"
            style="-fx-background-color: #F4F6F8;"
            prefHeight="700.0" prefWidth="1100.0">

    <top>
        <HBox styleClass="top-bar" alignment="CENTER_LEFT" spacing="20">
            <padding><Insets top="15" right="20" bottom="15" left="20"/></padding>

            <VBox>
                <Label text="SGPA PHARMA" styleClass="app-logo-text"/>
                <Label text="Gestion des Fournisseurs" styleClass="page-title"/>
            </VBox>

            <Region HBox.hgrow="ALWAYS"/>

            <Button text="RETOUR MENU" onAction="#backToMenu" styleClass="btn-secondary">
                <graphic>
                    <SVGPath content="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z" fill="#546E7A" scaleX="0.8" scaleY="0.8"/>
                </graphic>
            </Button>
        </HBox>
    </top>

    <center>
        <HBox spacing="20" style="-fx-padding: 20;">

            <VBox spacing="20" minWidth="320" prefWidth="350" styleClass="card-pane">
                <HBox alignment="CENTER_LEFT" spacing="10">
                    <StackPane styleClass="icon-bg-teal">
                        <SVGPath content="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z" fill="#009688"/>
                    </StackPane>
                    <Label text="Nouveau Partenaire" styleClass="section-header"/>
                </HBox>

                <Separator/>

                <VBox spacing="15">
                    <VBox spacing="5">
                        <Label text="Raison Sociale *" styleClass="label-small"/>
                        <TextField fx:id="txtNom" promptText="Nom de l'entreprise" styleClass="input-field"/>
                    </VBox>

                    <VBox spacing="5">
                        <Label text="Contact Direct" styleClass="label-small"/>
                        <HBox alignment="CENTER_LEFT" spacing="5" styleClass="input-group">
                            <StackPane prefWidth="30"><SVGPath content="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z" fill="#90A4AE" scaleX="0.7" scaleY="0.7"/></StackPane>
                            <TextField fx:id="txtContact" promptText="Téléphone" style="-fx-background-color: transparent;" HBox.hgrow="ALWAYS"/>
                        </HBox>
                    </VBox>

                    <VBox spacing="5">
                        <Label text="Email Professionnel" styleClass="label-small"/>
                        <HBox alignment="CENTER_LEFT" spacing="5" styleClass="input-group">
                            <StackPane prefWidth="30"><SVGPath content="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z" fill="#90A4AE" scaleX="0.7" scaleY="0.7"/></StackPane>
                            <TextField fx:id="txtEmail" promptText="contact@entreprise.com" style="-fx-background-color: transparent;" HBox.hgrow="ALWAYS"/>
                        </HBox>
                    </VBox>

                    <VBox spacing="5">
                        <Label text="Adresse Postale" styleClass="label-small"/>
                        <TextArea fx:id="txtAdresse" promptText="Numéro, Rue, Ville..." prefHeight="80" styleClass="text-area-modern" wrapText="true"/>
                    </VBox>
                </VBox>

                <Region VBox.vgrow="ALWAYS"/>

                <Button text="AJOUTER AU RÉPERTOIRE" maxWidth="Infinity" styleClass="btn-primary" onAction="#addFournisseur">
                    <graphic>
                        <SVGPath content="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z" fill="WHITE"/>
                    </graphic>
                </Button>
            </VBox>

            <VBox spacing="15" HBox.hgrow="ALWAYS" styleClass="card-pane">

                <HBox alignment="CENTER_LEFT" spacing="15">
                    <Label text="Liste des Partenaires" styleClass="section-header"/>
                    <Region HBox.hgrow="ALWAYS"/>

                    <HBox alignment="CENTER_LEFT" styleClass="search-bar">
                        <SVGPath content="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" fill="#90A4AE" scaleX="0.8" scaleY="0.8"/>
                        <TextField fx:id="txtSearch" promptText="Rechercher..." style="-fx-background-color: transparent;"/>
                    </HBox>

                    <Button text="Supprimer" styleClass="btn-danger-outline" onAction="#deleteFournisseur">
                        <graphic>
                            <SVGPath content="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z" fill="#E53935" scaleX="0.7" scaleY="0.7"/>
                        </graphic>
                    </Button>
                </HBox>

                <TableView fx:id="tableFournisseurs" VBox.vgrow="ALWAYS" styleClass="modern-table">
                    <columns>
                        <TableColumn fx:id="colId" text="ID" prefWidth="50" style="-fx-alignment: CENTER;"/>
                        <TableColumn fx:id="colNom" text="Raison Sociale" prefWidth="200"/>
                        <TableColumn fx:id="colContact" text="Contact" prefWidth="150"/>
                        <TableColumn fx:id="colEmail" text="Email" prefWidth="200"/>
                        <TableColumn fx:id="colAdresse" text="Adresse" prefWidth="250"/>
                    </columns>
                    <columnResizePolicy>
                        <TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/>
                    </columnResizePolicy>
                </TableView>
            </VBox>
        </HBox>
    </center>
</BorderPane>