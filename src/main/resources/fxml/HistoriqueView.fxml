<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.shape.SVGPath?>
<?import javafx.geometry.Insets?>

<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.pharmacy.sgpa.controller.HistoriqueController"
            stylesheets="@../css/styles.css"
            style="-fx-background-color: #F4F6F8;"
            prefHeight="700.0" prefWidth="1000.0">

    <top>
        <HBox styleClass="top-bar" alignment="CENTER_LEFT" spacing="20">
            <padding><Insets top="15" right="20" bottom="15" left="20"/></padding>
            <VBox>
                <Label text="SGPA PHARMA" styleClass="app-logo-text"/>
                <Label text="Historique des Ventes" styleClass="page-title"/>
            </VBox>
            <Region HBox.hgrow="ALWAYS"/>
            <Button text="RETOUR MENU" onAction="#backToMenu" styleClass="btn-secondary">
                <graphic>
                    <SVGPath content="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z" fill="#546E7A" scaleX="0.7" scaleY="0.7"/>
                </graphic>
            </Button>
        </HBox>
    </top>

    <center>
        <VBox spacing="20" style="-fx-padding: 20;">

            <VBox spacing="10" VBox.vgrow="ALWAYS" styleClass="card-pane">
                <HBox alignment="CENTER_LEFT">
                    <Label text="Journal des Transactions" styleClass="section-header"/>
                    <Region HBox.hgrow="ALWAYS"/>
                    <HBox alignment="CENTER_LEFT" spacing="10" styleClass="search-bar">
                        <SVGPath content="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" fill="#90A4AE" scaleX="0.8" scaleY="0.8"/>
                        <TextField promptText="Filtrer par ID ou Date..." style="-fx-background-color: transparent;"/>
                    </HBox>
                </HBox>

                <TableView fx:id="tableVentes" VBox.vgrow="ALWAYS" styleClass="modern-table">
                    <columns>
                        <TableColumn fx:id="colId" text="ID Vente" prefWidth="100"/>
                        <TableColumn fx:id="colDate" text="Date &amp; Heure" prefWidth="250"/>
                        <TableColumn fx:id="colTotal" text="Montant Total" prefWidth="150" style="-fx-alignment: CENTER-RIGHT;"/>
                        <TableColumn fx:id="colOrdonnance" text="Réglementation" prefWidth="150" style="-fx-alignment: CENTER;"/>
                    </columns>
                    <columnResizePolicy>
                        <TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/>
                    </columnResizePolicy>
                </TableView>
            </VBox>

            <VBox spacing="10" prefHeight="250" styleClass="card-pane" style="-fx-border-color: #009688; -fx-border-width: 2 0 0 0;">
                <HBox alignment="CENTER_LEFT" spacing="10">
                    <SVGPath content="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z" fill="#009688" scaleX="0.8" scaleY="0.8"/>
                    <Label text="Détails du Ticket" styleClass="section-header"/>
                    <Region HBox.hgrow="ALWAYS"/>
                    <Label fx:id="lblSelectedId" text="Sélectionnez une vente" style="-fx-text-fill: #90A4AE; -fx-font-style: italic;"/>
                </HBox>

                <TableView fx:id="tableDetails" VBox.vgrow="ALWAYS" styleClass="modern-table-small">
                    <columns>
                        <TableColumn fx:id="colDetailNom" text="Désignation" prefWidth="300"/>
                        <TableColumn fx:id="colDetailQte" text="Qté" prefWidth="80" style="-fx-alignment: CENTER;"/>
                        <TableColumn fx:id="colDetailPrix" text="Prix Unit." prefWidth="120" style="-fx-alignment: CENTER-RIGHT;"/>
                        <TableColumn fx:id="colDetailSousTotal" text="Sous-Total" prefWidth="120" style="-fx-alignment: CENTER-RIGHT; -fx-font-weight: bold;"/>
                    </columns>
                    <columnResizePolicy>
                        <TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/>
                    </columnResizePolicy>
                </TableView>
            </VBox>

        </VBox>
    </center>
</BorderPane>